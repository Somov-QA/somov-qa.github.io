

<html>
	
<head>
	<title>Profile.php</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 5.4.1.404">
	<meta name="keywords" content="">
	
	
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "index.html?" + sTopicUrl;
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("Profilephp");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	
</head>

<body>



	
		<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Profile.php</h1>
				
				
				<div id="topic_breadcrumb">
					<a href="Frameworks.html">Frameworks</a> &rsaquo;&rsaquo; <a href="Yii2.html">Yii2</a> &rsaquo;&rsaquo; <a href="Examples.html">Examples</a> &rsaquo;&rsaquo; <a href="ComponentProfileSearch.html">Component Profile Search</a> &rsaquo;&rsaquo; <a href="modules1.html">modules</a> &rsaquo;&rsaquo; <a href="admin1.html">admin</a> &rsaquo;&rsaquo; <a href="models4.html">models</a> &rsaquo;&rsaquo; 
				</div>
				
			</div>
			
			<div id="topic_header_nav">
				
				
				<a href="models4.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				
				
				<a href="models4.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				
				
				<a href="ProfileSearchphp1.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				
			</div>
			
			<div class="clear"></div>
		</div>
	
	
	<div id="topic_content">
		
<p></p>
<p class="rvps3"><span class="rvts60">&lt;?php</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts53">namespace </span><span class="rvts21">app\modules\admin\models;</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts53">use </span><span class="rvts21">Yii;</span></p>
<p class="rvps3"><span class="rvts53">use </span><span class="rvts21">yii\helpers\ArrayHelper;</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> * This is the model class for table "profile".</span></p>
<p class="rvps3"><span class="rvts199"> *</span></p>
<p class="rvps3"><span class="rvts199"> * @property string $autoinc_id</span></p>
<p class="rvps3"><span class="rvts199"> * @property string $id</span></p>
<p class="rvps3"><span class="rvts199"> * @property string $username</span></p>
<p class="rvps3"><span class="rvts199"> * @property integer $faction</span></p>
<p class="rvps3"><span class="rvts199"> * @property string $last_activity</span></p>
<p class="rvps3"><span class="rvts199"> * @property string $selected_deck</span></p>
<p class="rvps3"><span class="rvts199"> * @property integer $selected_spaceship_config</span></p>
<p class="rvps3"><span class="rvts199"> * @property integer $exp</span></p>
<p class="rvps3"><span class="rvts199"> * @property integer $card_packs</span></p>
<p class="rvps3"><span class="rvts199"> * @property integer $currency</span></p>
<p class="rvps3"><span class="rvts199"> * @property integer $medals</span></p>
<p class="rvps3"><span class="rvts199"> * @property integer $craft_resources</span></p>
<p class="rvps3"><span class="rvts199"> * @property boolean $was_paired</span></p>
<p class="rvps3"><span class="rvts199"> *</span></p>
<p class="rvps3"><span class="rvts199"> * @property AccountDevice[] $accountDevices</span></p>
<p class="rvps3"><span class="rvts199"> * @property AccountGameCenter[] $accountGameCenters</span></p>
<p class="rvps3"><span class="rvts199"> * @property AccountGooglePlay[] $accountGooglePlays</span></p>
<p class="rvps3"><span class="rvts199"> * @property AccountSteam[] $accountSteams</span></p>
<p class="rvps3"><span class="rvts199"> * @property CardPool[] $cardPools</span></p>
<p class="rvps3"><span class="rvts199"> * @property Challenge[] $challenges</span></p>
<p class="rvps3"><span class="rvts199"> * @property ChallengePermanent[] $challengePermanents</span></p>
<p class="rvps3"><span class="rvts199"> * @property Deck[] $decks</span></p>
<p class="rvps3"><span class="rvts199"> * @property Friend[] $friends</span></p>
<p class="rvps3"><span class="rvts199"> * @property Friend[] $friends0</span></p>
<p class="rvps3"><span class="rvts199"> * @property Profile[] $senders</span></p>
<p class="rvps3"><span class="rvts199"> * @property Profile[] $receivers</span></p>
<p class="rvps3"><span class="rvts199"> * @property IapTransaction[] $iapTransactions</span></p>
<p class="rvps3"><span class="rvts199"> * @property PairedProfiles[] $pairedProfiles</span></p>
<p class="rvps3"><span class="rvts199"> * @property PairedProfiles[] $pairedProfiles0</span></p>
<p class="rvps3"><span class="rvts199"> * @property Profile[] $profile2s</span></p>
<p class="rvps3"><span class="rvts199"> * @property Profile[] $profile1s</span></p>
<p class="rvps3"><span class="rvts199"> * @property PurchasedItem[] $purchasedItems</span></p>
<p class="rvps3"><span class="rvts199"> * @property RewardsPendingNotification $rewardsPendingNotification</span></p>
<p class="rvps3"><span class="rvts199"> * @property SpaceshipConfiguration[] $spaceshipConfigurations</span></p>
<p class="rvps3"><span class="rvts199"> * @property WarParticipation[] $warParticipations</span></p>
<p class="rvps3"><span class="rvts199"> * @property War[] $wars</span></p>
<p class="rvps3"><span class="rvts199"> */</span></p>
<p class="rvps3"><span class="rvts53">class </span><span class="rvts171">Profile</span><span class="rvts21"> </span><span class="rvts53">extends </span><span class="rvts21">\yii\db\</span><span class="rvts171">ActiveRecord</span></p>
<p class="rvps3"><span class="rvts21">{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @inheritdoc</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">static function</span><span class="rvts21"> </span><span class="rvts172">tableName</span><span class="rvts21">()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts76">'profile'</span><span class="rvts21">;</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @inheritdoc</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> rules()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">[</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts76">'id'</span><span class="rvts21">, </span><span class="rvts76">'faction'</span><span class="rvts21">, </span><span class="rvts76">'last_activity'</span><span class="rvts21">, </span><span class="rvts76">'selected_spaceship_config'</span><span class="rvts21">, </span><span class="rvts76">'exp'</span><span class="rvts21">, </span><span class="rvts76">'card_packs'</span><span class="rvts21">, </span><span class="rvts76">'currency'</span><span class="rvts21">, </span><span class="rvts76">'medals'</span><span class="rvts21">, </span><span class="rvts76">'craft_resources'</span><span class="rvts21">, </span><span class="rvts76">'username'</span><span class="rvts21">], </span><span class="rvts76">'required'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts76">'id'</span><span class="rvts21">, </span><span class="rvts76">'faction'</span><span class="rvts21">, </span><span class="rvts76">'selected_spaceship_config'</span><span class="rvts21">, </span><span class="rvts76">'exp'</span><span class="rvts21">, </span><span class="rvts76">'card_packs'</span><span class="rvts21">, </span><span class="rvts76">'currency'</span><span class="rvts21">, </span><span class="rvts76">'medals'</span><span class="rvts21">, </span><span class="rvts76">'craft_resources'</span><span class="rvts21">], </span><span class="rvts76">'integer'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts76">'last_activity'</span><span class="rvts21">], </span><span class="rvts76">'safe'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts76">'was_paired'</span><span class="rvts21">], </span><span class="rvts76">'boolean'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts76">'username'</span><span class="rvts21">, </span><span class="rvts76">'selected_deck'</span><span class="rvts21">], </span><span class="rvts76">'string'</span><span class="rvts21">, </span><span class="rvts76">'max' </span><span class="rvts21">=&gt; 45],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts76">'id'</span><span class="rvts21">], </span><span class="rvts76">'unique'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;];</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @inheritdoc</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> attributeLabels()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">[</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'autoinc_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Autoinc ID'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'ID'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'username' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Username'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'faction' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Faction'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'last_activity' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Last Activity'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'selected_deck' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Selected Deck'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'selected_spaceship_config' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Selected Spaceship Config'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'exp' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Exp'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'card_packs' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Card Packs'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'currency' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Currency'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'medals' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Medals'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'craft_resources' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Craft Resources'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts76">'was_paired' </span><span class="rvts21">=&gt; </span><span class="rvts76">'Was Paired'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;];</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getAccountDevices()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(AccountDevice::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getAccountGameCenters()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(AccountGameCenter::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getAccountGooglePlays()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(AccountGooglePlay::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getAccountSteams()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(AccountSteam::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getCardPools()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(CardPool::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getChallenges()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Challenge::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getChallengePermanents()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(ChallengePermanent::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getDecks()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Deck::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getFriends()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Friend::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'receiver_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getFriends0()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Friend::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'sender_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getSenders()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'sender_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts76">'friend'</span><span class="rvts21">, [</span><span class="rvts76">'receiver_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getReceivers()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'receiver_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts76">'friend'</span><span class="rvts21">, [</span><span class="rvts76">'sender_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getIapTransactions()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(IapTransaction::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getPairedProfiles()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(PairedProfiles::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile1_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getPairedProfiles0()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(PairedProfiles::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile2_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getProfile2s()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'profile2_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts76">'paired_profiles'</span><span class="rvts21">, [</span><span class="rvts76">'profile1_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getProfile1s()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'profile1_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts76">'paired_profiles'</span><span class="rvts21">, [</span><span class="rvts76">'profile2_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getPurchasedItems()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(PurchasedItem::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getRewardsPendingNotification()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasOne(RewardsPendingNotification::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getSpaceshipConfigurations()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(SpaceshipConfiguration::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getWarParticipations()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(WarParticipation::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts199">/**</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts199"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts74">public </span><span class="rvts53">function</span><span class="rvts21"> getWars()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts53">return </span><span class="rvts21">$this-&gt;hasMany(War::</span><span class="rvts172">className</span><span class="rvts21">(), [</span><span class="rvts76">'id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'war_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts76">'war_participation'</span><span class="rvts21">, [</span><span class="rvts76">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts76">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts177">/*</span></p>
<p class="rvps3"><span class="rvts177"> &nbsp; &nbsp; * @return yii\helpers\ArrayHelper</span></p>
<p class="rvps3"><span class="rvts177"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts211">public </span><span class="rvts200">static function</span><span class="rvts206"> </span><span class="rvts208">getProfiles</span><span class="rvts206">()</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;$profiles = Yii::</span><span class="rvts210">$app</span><span class="rvts206">-&gt;</span><span class="rvts207">cache</span><span class="rvts206">-&gt;get(</span><span class="rvts207">'profiles'</span><span class="rvts206">);</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts200">if</span><span class="rvts206">($profiles){</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$count = Profile::</span><span class="rvts208">find</span><span class="rvts206">()-&gt;asArray()-&gt;count();</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts200">if</span><span class="rvts206">($count != </span><span class="rvts208">count</span><span class="rvts206">($profiles)){</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$query = Profile::</span><span class="rvts208">find</span><span class="rvts206">()-&gt;asArray()-&gt;all();</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$profiles = ArrayHelper::</span><span class="rvts208">map</span><span class="rvts206">($query, </span><span class="rvts207">'id'</span><span class="rvts206">, </span><span class="rvts207">'username'</span><span class="rvts206">);</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Yii::</span><span class="rvts210">$app</span><span class="rvts206">-&gt;</span><span class="rvts207">cache</span><span class="rvts206">-&gt;set(</span><span class="rvts207">'profiles'</span><span class="rvts206">, $profiles);</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;}</span><span class="rvts200">else</span><span class="rvts206">{</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$query = Profile::</span><span class="rvts208">find</span><span class="rvts206">()-&gt;asArray()-&gt;all();</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$profiles = ArrayHelper::</span><span class="rvts208">map</span><span class="rvts206">($query, </span><span class="rvts207">'id'</span><span class="rvts206">, </span><span class="rvts207">'username'</span><span class="rvts206">);</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Yii::</span><span class="rvts210">$app</span><span class="rvts206">-&gt;</span><span class="rvts207">cache</span><span class="rvts206">-&gt;set(</span><span class="rvts207">'profiles'</span><span class="rvts206">, $profiles);</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts200">return </span><span class="rvts206">$profiles;</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts177">/*</span></p>
<p class="rvps3"><span class="rvts177"> &nbsp; &nbsp; * @return yii\helpers\ArrayHelper</span></p>
<p class="rvps3"><span class="rvts177"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts211">public </span><span class="rvts200">static function</span><span class="rvts206"> </span><span class="rvts208">updateProfileCache</span><span class="rvts206">()</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;$query = Profile::</span><span class="rvts208">find</span><span class="rvts206">()-&gt;asArray()-&gt;all();</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;$profiles = ArrayHelper::</span><span class="rvts208">map</span><span class="rvts206">($query, </span><span class="rvts207">'id'</span><span class="rvts206">, </span><span class="rvts207">'username'</span><span class="rvts206">);</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;Yii::</span><span class="rvts210">$app</span><span class="rvts206">-&gt;</span><span class="rvts207">cache</span><span class="rvts206">-&gt;set(</span><span class="rvts207">'profiles'</span><span class="rvts206">, $profiles);</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts200">return </span><span class="rvts206">$profiles;</span></p>
<p class="rvps3"><span class="rvts206"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts21">}</span></p>
<p class="rvps3"><span class="rvts55"><br/></span></p>
<p></p>
<p class="rvps2" style="clear: both;"><span class="rvts6">Created with the Personal Edition of HelpNDoc: </span><a class="rvts7" href="https://www.helpndoc.com/help-authoring-tool">Free help authoring environment</a></p>

	</div>
	
	
		<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; 2018 by Somov. All Rights Reserved.
			</div>
		</div>
	
	

	
</body>
	
</html>

