

<html>
	
<head>
	<title>Profile.php</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 5.4.1.404">
	<meta name="keywords" content="">
	
	
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "index.html?" + sTopicUrl;
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("Profilephp");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	
</head>

<body>



	
		<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Profile.php</h1>
				
				
				<div id="topic_breadcrumb">
					<a href="Frameworks.html">Frameworks</a> &rsaquo;&rsaquo; <a href="Yii2.html">Yii2</a> &rsaquo;&rsaquo; <a href="Newtopic10.html">Примеры</a> &rsaquo;&rsaquo; <a href="ComponentProfileSearch.html">Component Profile Search</a> &rsaquo;&rsaquo; <a href="modules1.html">modules</a> &rsaquo;&rsaquo; <a href="admin1.html">admin</a> &rsaquo;&rsaquo; <a href="models4.html">models</a> &rsaquo;&rsaquo; 
				</div>
				
			</div>
			
			<div id="topic_header_nav">
				
				
				<a href="models4.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				
				
				<a href="models4.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				
				
				<a href="ProfileSearchphp1.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				
			</div>
			
			<div class="clear"></div>
		</div>
	
	
	<div id="topic_content">
		
<p></p>
<p class="rvps3"><span class="rvts69">&lt;?php</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts70">namespace </span><span class="rvts21">app\modules\admin\models;</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts70">use </span><span class="rvts21">Yii;</span></p>
<p class="rvps3"><span class="rvts70">use </span><span class="rvts21">yii\helpers\ArrayHelper;</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> * This is the model class for table "profile".</span></p>
<p class="rvps3"><span class="rvts151"> *</span></p>
<p class="rvps3"><span class="rvts151"> * @property string $autoinc_id</span></p>
<p class="rvps3"><span class="rvts151"> * @property string $id</span></p>
<p class="rvps3"><span class="rvts151"> * @property string $username</span></p>
<p class="rvps3"><span class="rvts151"> * @property integer $faction</span></p>
<p class="rvps3"><span class="rvts151"> * @property string $last_activity</span></p>
<p class="rvps3"><span class="rvts151"> * @property string $selected_deck</span></p>
<p class="rvps3"><span class="rvts151"> * @property integer $selected_spaceship_config</span></p>
<p class="rvps3"><span class="rvts151"> * @property integer $exp</span></p>
<p class="rvps3"><span class="rvts151"> * @property integer $card_packs</span></p>
<p class="rvps3"><span class="rvts151"> * @property integer $currency</span></p>
<p class="rvps3"><span class="rvts151"> * @property integer $medals</span></p>
<p class="rvps3"><span class="rvts151"> * @property integer $craft_resources</span></p>
<p class="rvps3"><span class="rvts151"> * @property boolean $was_paired</span></p>
<p class="rvps3"><span class="rvts151"> *</span></p>
<p class="rvps3"><span class="rvts151"> * @property AccountDevice[] $accountDevices</span></p>
<p class="rvps3"><span class="rvts151"> * @property AccountGameCenter[] $accountGameCenters</span></p>
<p class="rvps3"><span class="rvts151"> * @property AccountGooglePlay[] $accountGooglePlays</span></p>
<p class="rvps3"><span class="rvts151"> * @property AccountSteam[] $accountSteams</span></p>
<p class="rvps3"><span class="rvts151"> * @property CardPool[] $cardPools</span></p>
<p class="rvps3"><span class="rvts151"> * @property Challenge[] $challenges</span></p>
<p class="rvps3"><span class="rvts151"> * @property ChallengePermanent[] $challengePermanents</span></p>
<p class="rvps3"><span class="rvts151"> * @property Deck[] $decks</span></p>
<p class="rvps3"><span class="rvts151"> * @property Friend[] $friends</span></p>
<p class="rvps3"><span class="rvts151"> * @property Friend[] $friends0</span></p>
<p class="rvps3"><span class="rvts151"> * @property Profile[] $senders</span></p>
<p class="rvps3"><span class="rvts151"> * @property Profile[] $receivers</span></p>
<p class="rvps3"><span class="rvts151"> * @property IapTransaction[] $iapTransactions</span></p>
<p class="rvps3"><span class="rvts151"> * @property PairedProfiles[] $pairedProfiles</span></p>
<p class="rvps3"><span class="rvts151"> * @property PairedProfiles[] $pairedProfiles0</span></p>
<p class="rvps3"><span class="rvts151"> * @property Profile[] $profile2s</span></p>
<p class="rvps3"><span class="rvts151"> * @property Profile[] $profile1s</span></p>
<p class="rvps3"><span class="rvts151"> * @property PurchasedItem[] $purchasedItems</span></p>
<p class="rvps3"><span class="rvts151"> * @property RewardsPendingNotification $rewardsPendingNotification</span></p>
<p class="rvps3"><span class="rvts151"> * @property SpaceshipConfiguration[] $spaceshipConfigurations</span></p>
<p class="rvps3"><span class="rvts151"> * @property WarParticipation[] $warParticipations</span></p>
<p class="rvps3"><span class="rvts151"> * @property War[] $wars</span></p>
<p class="rvps3"><span class="rvts151"> */</span></p>
<p class="rvps3"><span class="rvts70">class </span><span class="rvts72">Profile</span><span class="rvts21"> </span><span class="rvts70">extends </span><span class="rvts21">\yii\db\</span><span class="rvts72">ActiveRecord</span></p>
<p class="rvps3"><span class="rvts21">{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @inheritdoc</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">static function</span><span class="rvts21"> </span><span class="rvts73">tableName</span><span class="rvts21">()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts71">'profile'</span><span class="rvts21">;</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @inheritdoc</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> rules()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">[</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts71">'id'</span><span class="rvts21">, </span><span class="rvts71">'faction'</span><span class="rvts21">, </span><span class="rvts71">'last_activity'</span><span class="rvts21">, </span><span class="rvts71">'selected_spaceship_config'</span><span class="rvts21">, </span><span class="rvts71">'exp'</span><span class="rvts21">, </span><span class="rvts71">'card_packs'</span><span class="rvts21">, </span><span class="rvts71">'currency'</span><span class="rvts21">, </span><span class="rvts71">'medals'</span><span class="rvts21">, </span><span class="rvts71">'craft_resources'</span><span class="rvts21">, </span><span class="rvts71">'username'</span><span class="rvts21">], </span><span class="rvts71">'required'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts71">'id'</span><span class="rvts21">, </span><span class="rvts71">'faction'</span><span class="rvts21">, </span><span class="rvts71">'selected_spaceship_config'</span><span class="rvts21">, </span><span class="rvts71">'exp'</span><span class="rvts21">, </span><span class="rvts71">'card_packs'</span><span class="rvts21">, </span><span class="rvts71">'currency'</span><span class="rvts21">, </span><span class="rvts71">'medals'</span><span class="rvts21">, </span><span class="rvts71">'craft_resources'</span><span class="rvts21">], </span><span class="rvts71">'integer'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts71">'last_activity'</span><span class="rvts21">], </span><span class="rvts71">'safe'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts71">'was_paired'</span><span class="rvts21">], </span><span class="rvts71">'boolean'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts71">'username'</span><span class="rvts21">, </span><span class="rvts71">'selected_deck'</span><span class="rvts21">], </span><span class="rvts71">'string'</span><span class="rvts21">, </span><span class="rvts71">'max' </span><span class="rvts21">=&gt; 45],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span class="rvts71">'id'</span><span class="rvts21">], </span><span class="rvts71">'unique'</span><span class="rvts21">],</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;];</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @inheritdoc</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> attributeLabels()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">[</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'autoinc_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Autoinc ID'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'ID'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'username' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Username'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'faction' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Faction'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'last_activity' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Last Activity'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'selected_deck' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Selected Deck'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'selected_spaceship_config' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Selected Spaceship Config'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'exp' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Exp'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'card_packs' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Card Packs'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'currency' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Currency'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'medals' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Medals'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'craft_resources' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Craft Resources'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts71">'was_paired' </span><span class="rvts21">=&gt; </span><span class="rvts71">'Was Paired'</span><span class="rvts21">,</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;];</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getAccountDevices()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(AccountDevice::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getAccountGameCenters()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(AccountGameCenter::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getAccountGooglePlays()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(AccountGooglePlay::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getAccountSteams()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(AccountSteam::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getCardPools()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(CardPool::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getChallenges()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Challenge::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getChallengePermanents()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(ChallengePermanent::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getDecks()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Deck::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getFriends()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Friend::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'receiver_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getFriends0()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Friend::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'sender_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getSenders()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'sender_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts71">'friend'</span><span class="rvts21">, [</span><span class="rvts71">'receiver_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getReceivers()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'receiver_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts71">'friend'</span><span class="rvts21">, [</span><span class="rvts71">'sender_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getIapTransactions()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(IapTransaction::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getPairedProfiles()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(PairedProfiles::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile1_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getPairedProfiles0()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(PairedProfiles::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile2_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getProfile2s()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'profile2_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts71">'paired_profiles'</span><span class="rvts21">, [</span><span class="rvts71">'profile1_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getProfile1s()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(Profile::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'profile1_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts71">'paired_profiles'</span><span class="rvts21">, [</span><span class="rvts71">'profile2_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getPurchasedItems()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(PurchasedItem::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getRewardsPendingNotification()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasOne(RewardsPendingNotification::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getSpaceshipConfigurations()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(SpaceshipConfiguration::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getWarParticipations()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(WarParticipation::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts151">/**</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; * @return \yii\db\ActiveQuery</span></p>
<p class="rvps3"><span class="rvts151"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts88">public </span><span class="rvts70">function</span><span class="rvts21"> getWars()</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts70">return </span><span class="rvts21">$this-&gt;hasMany(War::</span><span class="rvts73">className</span><span class="rvts21">(), [</span><span class="rvts71">'id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'war_id'</span><span class="rvts21">])-&gt;viaTable(</span><span class="rvts71">'war_participation'</span><span class="rvts21">, [</span><span class="rvts71">'profile_id' </span><span class="rvts21">=&gt; </span><span class="rvts71">'id'</span><span class="rvts21">]);</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts127">/*</span></p>
<p class="rvps3"><span class="rvts127"> &nbsp; &nbsp; * @return yii\helpers\ArrayHelper</span></p>
<p class="rvps3"><span class="rvts127"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts163">public </span><span class="rvts152">static function</span><span class="rvts158"> </span><span class="rvts160">getProfiles</span><span class="rvts158">()</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;$profiles = Yii::</span><span class="rvts162">$app</span><span class="rvts158">-&gt;</span><span class="rvts159">cache</span><span class="rvts158">-&gt;get(</span><span class="rvts159">'profiles'</span><span class="rvts158">);</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts152">if</span><span class="rvts158">($profiles){</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$count = Profile::</span><span class="rvts160">find</span><span class="rvts158">()-&gt;asArray()-&gt;count();</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts152">if</span><span class="rvts158">($count != </span><span class="rvts160">count</span><span class="rvts158">($profiles)){</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$query = Profile::</span><span class="rvts160">find</span><span class="rvts158">()-&gt;asArray()-&gt;all();</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$profiles = ArrayHelper::</span><span class="rvts160">map</span><span class="rvts158">($query, </span><span class="rvts159">'id'</span><span class="rvts158">, </span><span class="rvts159">'username'</span><span class="rvts158">);</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Yii::</span><span class="rvts162">$app</span><span class="rvts158">-&gt;</span><span class="rvts159">cache</span><span class="rvts158">-&gt;set(</span><span class="rvts159">'profiles'</span><span class="rvts158">, $profiles);</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;}</span><span class="rvts152">else</span><span class="rvts158">{</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$query = Profile::</span><span class="rvts160">find</span><span class="rvts158">()-&gt;asArray()-&gt;all();</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$profiles = ArrayHelper::</span><span class="rvts160">map</span><span class="rvts158">($query, </span><span class="rvts159">'id'</span><span class="rvts158">, </span><span class="rvts159">'username'</span><span class="rvts158">);</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Yii::</span><span class="rvts162">$app</span><span class="rvts158">-&gt;</span><span class="rvts159">cache</span><span class="rvts158">-&gt;set(</span><span class="rvts159">'profiles'</span><span class="rvts158">, $profiles);</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts152">return </span><span class="rvts158">$profiles;</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts127">/*</span></p>
<p class="rvps3"><span class="rvts127"> &nbsp; &nbsp; * @return yii\helpers\ArrayHelper</span></p>
<p class="rvps3"><span class="rvts127"> &nbsp; &nbsp; */</span></p>
<p class="rvps3"><span class="rvts21"> &nbsp; &nbsp;</span><span class="rvts163">public </span><span class="rvts152">static function</span><span class="rvts158"> </span><span class="rvts160">updateProfileCache</span><span class="rvts158">()</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp;{</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;$query = Profile::</span><span class="rvts160">find</span><span class="rvts158">()-&gt;asArray()-&gt;all();</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;$profiles = ArrayHelper::</span><span class="rvts160">map</span><span class="rvts158">($query, </span><span class="rvts159">'id'</span><span class="rvts158">, </span><span class="rvts159">'username'</span><span class="rvts158">);</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;Yii::</span><span class="rvts162">$app</span><span class="rvts158">-&gt;</span><span class="rvts159">cache</span><span class="rvts158">-&gt;set(</span><span class="rvts159">'profiles'</span><span class="rvts158">, $profiles);</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts152">return </span><span class="rvts158">$profiles;</span></p>
<p class="rvps3"><span class="rvts158"> &nbsp; &nbsp;}</span></p>
<p class="rvps3"><span class="rvts21">}</span></p>
<p class="rvps3"><span class="rvts83"><br/></span></p>
<p></p>
<p class="rvps2" style="clear: both;"><span class="rvts6">Created with the Personal Edition of HelpNDoc: </span><a class="rvts7" href="https://www.helpndoc.com/help-authoring-tool">Free help authoring environment</a></p>

	</div>
	
	
		<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; 2018 by Somov. All Rights Reserved.
			</div>
		</div>
	
	

	
</body>
	
</html>

