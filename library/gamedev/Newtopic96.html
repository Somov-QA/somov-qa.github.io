

<html>
	
<head>
	<title>Двумерный массив типом класс</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 5.4.1.404">
	<meta name="keywords" content="">
	
	
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "index.html?" + sTopicUrl;
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("Newtopic96");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	
</head>

<body>



	
		<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Двумерный массив типом класс</h1>
				
				
				<div id="topic_breadcrumb">
					<a href="Newtopic21.html">Игровые движки</a> &rsaquo;&rsaquo; <a href="Phaser.html">Phaser</a> &rsaquo;&rsaquo; <a href="TypeScript2.html">TypeScript</a> &rsaquo;&rsaquo; <a href="Newtopic94.html">Примеры кода</a> &rsaquo;&rsaquo; 
				</div>
				
			</div>
			
			<div id="topic_header_nav">
				
				
				<a href="Newtopic94.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				
				
				<a href="Newtopic95.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				
				
				<a href="Newtopic97.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				
			</div>
			
			<div class="clear"></div>
		</div>
	
	
	<div id="topic_content">
		
<p></p>
<p class="rvps2"><span class="rvts16">class</span><span class="rvts15"> </span><span class="rvts19">DiceButton</span><span class="rvts15"> </span><span class="rvts16">extends</span><span class="rvts15"> </span><span class="rvts17">Phaser</span><span class="rvts15">.Button {</span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp;diceType: number;</span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp;diceValue: number;</span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp;diceValues: Array&lt;number&gt;;</span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp;diceIndex: number;</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp;constructor(game: </span><span class="rvts17">Phaser</span><span class="rvts15">.Game, x?: number, y?: number, key?: string, callback?: Function, callbackContext?: any, overFrame?: string | number, outFrame?: string | number, downFrame?: string | number, upFrame?: string | number) {</span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts16">super</span><span class="rvts15">(game, x, y, key, callback, callbackContext, overFrame, outFrame, downFrame, upFrame);</span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp;}</span></p>
<p class="rvps2"><span class="rvts15">}</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts16">class</span><span class="rvts15"> </span><span class="rvts19">levelState</span><span class="rvts15"> </span><span class="rvts16">extends</span><span class="rvts15"> </span><span class="rvts17">Phaser</span><span class="rvts15">.State {</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">field: </span><span class="rvts17">Array</span><span class="rvts15">&lt;</span><span class="rvts17">Array</span><span class="rvts15">&lt;</span><span class="rvts17">DiceButton</span><span class="rvts15">&gt;&gt;;</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts36"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">create() {</span></p>
<p class="rvps2"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> diceData: </span><span class="rvts47">any</span><span class="rvts45">[] = [</span></p>
<p class="rvps8"><span class="rvts45">[635, 260, </span><span class="rvts48">'dice_black_atlas'</span><span class="rvts45">, </span><span class="rvts48">'dice6063'</span><span class="rvts45">, 660, 260, </span><span class="rvts48">'+'</span><span class="rvts45">],</span></p>
<p class="rvps8"><span class="rvts45">[670, 260, </span><span class="rvts48">'dice_black_atlas'</span><span class="rvts45">, </span><span class="rvts48">'dice1012'</span><span class="rvts45">, 695, 260, </span><span class="rvts48">': +7'</span><span class="rvts45">],</span></p>
<p class="rvps8"><span class="rvts45">[635, 290, </span><span class="rvts48">'dice_black_atlas'</span><span class="rvts45">, </span><span class="rvts48">'dice5051'</span><span class="rvts45">, 660, 290, </span><span class="rvts48">'+'</span><span class="rvts45">],</span></p>
<p class="rvps8"><span class="rvts45">[670, 290, </span><span class="rvts48">'dice_black_atlas'</span><span class="rvts45">, </span><span class="rvts48">'dice1016'</span><span class="rvts45">, 695, 290, </span><span class="rvts48">'+'</span><span class="rvts45">],</span></p>
<p class="rvps8"><span class="rvts45">[705, 290, </span><span class="rvts48">'dice_black_atlas'</span><span class="rvts45">, </span><span class="rvts48">'dice1012'</span><span class="rvts45">, 730, 290, </span><span class="rvts48">': +15'</span><span class="rvts45">],</span></p>
<p class="rvps8"><span class="rvts45">[635, 500, </span><span class="rvts48">'dice_win_atlas'</span><span class="rvts45">, </span><span class="rvts48">'dicewin02'</span><span class="rvts45">, 660, 500, </span><span class="rvts48">' 10, 20, 35, 60, 100'</span><span class="rvts45">]</span></p>
<p class="rvps7"><span class="rvts45">];</span></p>
<p class="rvps2"><span class="rvts45"><br/></span></p>
<p class="rvps2"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">var</span><span class="rvts45"> sprite: </span><span class="rvts47">Phaser</span><span class="rvts45">.Sprite;</span></p>
<p class="rvps2"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> count: number = diceData.length;</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts46">for</span><span class="rvts45"> (</span><span class="rvts46">var</span><span class="rvts45"> i = 0; i &lt; count; i++) {</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps8"><span class="rvts45">sprite = </span><span class="rvts46">new</span><span class="rvts45"> Phaser.Sprite(</span><span class="rvts46">this</span><span class="rvts45">.game, diceData[i][0], diceData[i][1], diceData[i][2], diceData[i][3]);</span></p>
<p class="rvps8"><span class="rvts45">sprite.scale.setTo(0.5, 0.5);</span></p>
<p class="rvps8"><span class="rvts46">this</span><span class="rvts45">.stage.addChild(sprite);</span></p>
<p class="rvps2"><span class="rvts45"><br/></span></p>
<p class="rvps8"><span class="rvts45">text = </span><span class="rvts46">new</span><span class="rvts45"> Phaser.Text(</span><span class="rvts46">this</span><span class="rvts45">.game, diceData[i][4], diceData[i][5], diceData[i][6], { font: </span><span class="rvts48">'18px Arial', fill: '#FFFFFF'</span><span class="rvts45"> });</span></p>
<p class="rvps8"><span class="rvts46">this</span><span class="rvts45">.stage.addChild(text);</span></p>
<p class="rvps8"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45">}</span></p>
<p class="rvps2"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">}</span></p>
<p class="rvps2"><span class="rvts45"><br/></span></p>
<p class="rvps2"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">createField() {</span></p>
<p class="rvps2"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> diceValues = {</span></p>
<p class="rvps8"><span class="rvts48">"1"</span><span class="rvts45">: [[1, 5, 4, 6], [1, 3, 4, 2], [1, 6, 4, 5], [1, 2, 4, 3]],</span></p>
<p class="rvps8"><span class="rvts48">"2"</span><span class="rvts45">: [[2, 5, 3, 6], [2, 1, 3, 4], [2, 6, 3, 5], [2, 4, 3, 1]],</span></p>
<p class="rvps8"><span class="rvts48">"3"</span><span class="rvts45">: [[3, 5, 2, 6], [3, 4, 2, 1], [3, 6, 2, 5], [3, 1, 2, 4]],</span></p>
<p class="rvps8"><span class="rvts48">"4"</span><span class="rvts45">: [[4, 5, 1, 6], [4, 2, 1, 3], [4, 6, 1, 5], [4, 3, 1, 2]],</span></p>
<p class="rvps8"><span class="rvts48">"5"</span><span class="rvts45">: [[5, 1, 6, 4], [5, 2, 6, 3], [5, 4, 6, 1], [5, 3, 6, 2]],</span></p>
<p class="rvps8"><span class="rvts48">"6"</span><span class="rvts45">: [[6, 1, 5, 4], [6, 3, 5, 2], [6, 4, 5, 1], [6, 2, 5, 3]]</span></p>
<p class="rvps7"><span class="rvts45">};</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts46">this</span><span class="rvts45">.</span><span class="rvts49">field</span><span class="rvts45"> = [];</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> dice: </span><span class="rvts47">DiceButton</span><span class="rvts45">;</span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> diceType: number;</span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> nextValue: number;</span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> </span><span class="rvts49">rows</span><span class="rvts45">: </span><span class="rvts47">Array</span><span class="rvts45">&lt;</span><span class="rvts47">DiceButton</span><span class="rvts45">&gt;;</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts46">for</span><span class="rvts45"> (</span><span class="rvts46">var</span><span class="rvts45"> col = 0; col &lt; 5; col++) {</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps8"><span class="rvts49">rows</span><span class="rvts45"> = [];</span></p>
<p class="rvps8"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">for</span><span class="rvts45"> (</span><span class="rvts46">var</span><span class="rvts45"> row = 0; row &lt; 10; row++) {</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps7"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">dice = </span><span class="rvts46">new</span><span class="rvts45"> DiceButton(</span><span class="rvts46">this</span><span class="rvts45">.game, 305 + (50 * col), 200 + (40 * row), 'dice_black_atlas', this.onFieldDiceClick, </span><span class="rvts46">this</span><span class="rvts45">);</span></p>
<p class="rvps7"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">dice.diceType = diceType;</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">if</span><span class="rvts45"> (row &lt; 9) dice.inputEnabled = false;</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">dice.diceValues = diceValues[this.randomValue(6)][</span><span class="rvts46">this</span><span class="rvts45">.randomValue(3)];</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">dice.diceIndex = 1;</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">dice.diceValue = dice.diceValues[dice.diceIndex];</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">nextValue = dice.diceIndex === 3 ? 0 : (dice.diceIndex + 1);</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">dice.frameName = </span><span class="rvts48">"dice"</span><span class="rvts45"> + dice.diceValue + </span><span class="rvts48">"0"</span><span class="rvts45"> + dice.diceValue + dice.diceValues[nextValue];</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">this</span><span class="rvts45">.stage.addChild(dice);</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">rows</span><span class="rvts45">.push(dice);</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">}</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">this</span><span class="rvts45">.</span><span class="rvts49">field</span><span class="rvts45">.push(rows);</span></p>
<p class="rvps7"><span class="rvts45">}</span></p>
<p class="rvps5"><span class="rvts45">}</span></p>
<p class="rvps5"><span class="rvts45"><br/></span></p>
<p class="rvps5"><span class="rvts45">checkVariant() {</span></p>
<p class="rvps5"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps5"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">var</span><span class="rvts45"> col: number = 0;</span></p>
<p class="rvps7"><span class="rvts46">var</span><span class="rvts45"> row: number = 0;</span></p>
<p class="rvps5"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">var</span><span class="rvts45"> values: number[];</span></p>
<p class="rvps5"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">var</span><span class="rvts45"> count: number = </span><span class="rvts46">this</span><span class="rvts45">.</span><span class="rvts49">field</span><span class="rvts45">.length;</span></p>
<p class="rvps5"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps5"><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">for</span><span class="rvts45"> (col = 0; col &lt; count; col++) {</span></p>
<p class="rvps5"><span class="rvts45"><br/></span></p>
<p class="rvps5"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts45">row = </span><span class="rvts46">this</span><span class="rvts45">.</span><span class="rvts49">field</span><span class="rvts45">[col].length - 1;</span></p>
<p class="rvps5"><span class="rvts45"><br/></span></p>
<p class="rvps8"><span class="rvts45">values.push(</span><span class="rvts46">this</span><span class="rvts45">.</span><span class="rvts49">field</span><span class="rvts45">[col][row].diceValue);</span></p>
<p class="rvps8"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45">}</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45">values.sort(</span><span class="rvts46">function</span><span class="rvts45"> (valueA, valueB) {</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts46">return</span><span class="rvts45"> valueB - valueA;</span></p>
<p class="rvps7"><span class="rvts45">});</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts45">count = values.length;</span></p>
<p class="rvps7"><span class="rvts46">for</span><span class="rvts45"> (col = 0; col &lt; count; col++) {</span></p>
<p class="rvps7"><span class="rvts45"></span><span class="rvts45"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps7"><span class="rvts45">}</span></p>
<p class="rvps5"><span class="rvts45">}</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">}</span></p>
<p></p>
<p class="rvps4" style="clear: both;"><span class="rvts11">Created with the Personal Edition of HelpNDoc: </span><a class="rvts12" href="https://www.helpndoc.com">Free EBook and documentation generator</a></p>

	</div>
	
	
		<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; &lt;Dates&gt; by &lt;Authors&gt;. All Rights Reserved.
			</div>
		</div>
	
	

	
</body>
	
</html>

